---
import Layout from "../layouts/Layout.astro";
import footer2 from "../components/Footer2.astro";
import { Image } from "astro:assets";
import contactate from "../assets/contactate.png";
import flamencos from "../assets/flamencos.jpg";
import cuevadeltigre from "../assets/cuevadeltigre.png";
import kitesurfing from "../assets/kitesurfing.jpg";
import flores from "../assets/flores.png";
import pescadores from "../assets/pescadores.jpg";
import logoreta4 from '../assets/logoreta4.png';


const items = [
  {
    title: "Actividades Acuáticas",
    body: "Las extensas playas de Reta son ideales para los aficionados al surf y al kitesurf...",
    body2: "Con olas perfectas y vientos constantes, este destino es un paraíso para quienes buscan adrenalina y aventura en el mar.",
    image: kitesurfing,
    imgAlt: "Kitesurf, Surf, Windsurf, Kayak",
  },
  {
    title: "Paseos",
    body: "Explorá la belleza natural a pie o en bici, con nuestras visitas guiadas bonaerenses...",
    body2: "tanto diurnas como nocturnas. Durante el día, disfrutá de los paisajes de costa bonaerense, combinados con la gran variedad de especies silvestres tanto de animales como de plantas. Por la noche, descubrí el cielo estrellado y la tranquilidad absoluta, un espectáculo único.",
    image: flores,
    imgAlt: "Paseos en bici, visitas nocturnas y diurnas",
  },
  {
    title: "Pesca",
    body: "Reta es un destino destacado para la pesca, tanto desde la orilla como embarcada...",
    body2: "No te pierdas el Concurso de La Corvina Negra, uno de los eventos más importantes de la región, donde aficionados y expertos se reúnen para disfrutar de una jornada de pesca memorable con grandes premios.",
    image: pescadores,
    imgAlt: "Pesca",
  },
  {
    title: "Cueva del Tigre",
    body: "Este paraje, antiguamente fue utilizado como vado natural por las carretas, arreos...",
    body2: "y viajeros para atravesar el Rio Quequén Salado. A pocos metros de este paso, es posible observar varias cuevas y cascadas.En una de ellas, se refugió allá por el año 1860 Felipe Pascual Pacheco, un cuatrero conocido como 'El Tigre del Quequén', que según la creencia popular, aprovechaba la proximidad con este paso para asaltar a los viajeros que lo atravesaban. En 1875, fue capturado.",
    image: cuevadeltigre,
    imgAlt: "Pesca",
  },
  {
    title: "Albúfera",
    body: "La albúfera de Reta es uno de los tesoros más impresionantes de la región...", 
    body2: "una laguna costera que se forma por la mezcla del agua dulce y salada, creando un ecosistema único y biodiverso. Rodeada por médanos y vegetación autóctona, sumados las especies de aves (flamencos, garzas, cisnes de cuello negro, gaviotas) este paraje natural es ideal para quienes buscan conectarse con la naturaleza y, disfrutar de la paz y tranquilidad.",
    image: flamencos,
    imgAlt: "Albúfera",
  },
];
---
<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href={logoreta4.src} />

    <title>Alojamientos</title>
  </head>
  <body>
    <Layout title="Alojamientos">
      <main>
        <div class="grid-container">
          {items.map((item, index) => (
            <div class="card">
              <img src={item.image.src} alt={item.imgAlt} />
              <h2>{item.title}</h2>
              <p class="text">{item.body}</p>
              <span class="hide" id={`hideText-${index}`}>
                <p class="oculto">{item.body2}</p>
              </span>  
              <button class="toggle-button" data-index={index}>Leer más...</button>
            </div>
          ))}
        </div>
      </main>
    </Layout>

<style>
  * {
    
  }

  body {
    width: 100vw;
    height: 100%;
  }

  main {
    font-family: "roboto", sans-serif;
    color: var(--primario);
    box-sizing: border-box;
    width: 100vw;
    min-height: 70vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 8px;
  }

  .grid-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8vw;
    padding: 0;
    margin-top: 24px;
    width: 100vw;
    margin-bottom: 24px;
  }

  /* Cards */
  .card {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    max-width: 400px;
    border-radius: 8px;
    background-color: white;
    box-shadow: 0 4px 8px var(--base);
    transition: transform 0.3s ease, max-height 0.3s ease;
    max-height: 100vh; /* Altura inicial */
    overflow: hidden;
    padding: 16px;
    position: relative;
  }

  img {
    height: 400px;
    width: 100%;
    object-fit: cover;
    border-radius: 8px;
  }

  h2 {
    text-align: center;
    font-weight: 300;
    font-size: 24px;
    margin-bottom: 8px;
  }

  /* Text truncation */
  .text {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
    max-height: 90vh; /* Para 3 líneas */
    transition: max-height 0.3s ease;
  }

  .toggle-button {
    margin-top: 10px;
    cursor: pointer;
    color: var(--gris);
    text-decoration: underline;
    background: none;
    border: none;
    font-size: 16px;
    font-weight: 300;
    padding: 0;
  }

  .toggle-button:hover {
    color: var(--primario);
  }

  p {
    text-align: left;
    font-weight: 300;
    font-size: 16px;
    padding: 8px;
    letter-spacing: 2px;
    line-height: 32px;
    
  }

  .card:hover {
    box-shadow: 0 4px 8px var(--gris);
    transform: scale(1.05);
  }

  /* Para asegurar alineación de títulos */
  .grid-container .card h2 {
    min-height: 60px; /* Ajusta según el contenido para asegurar alineación */
  }

  .hide{
    display: none;
  }

  .show{
    display: block;
  }

</style>
</body>
</html>

<script>
  document.querySelectorAll('.toggle-button').forEach(button => {
        button.addEventListener('click', function() {
          const index = this.getAttribute('data-index');
          const hideText = document.getElementById(`hideText-${index}`);
          
          hideText.classList.toggle('show');

          if (hideText.classList.contains('show')) {
            this.innerHTML = 'Leer menos...';
          } else {
            this.innerHTML = 'Leer más...';
          }
        });
      });
</script>